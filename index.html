




<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Digitální Tržiště</title>
<base href="/monster-bigboard-data/">
<style>
  :root{--bg:#0f0f0f;--text:#eee;--muted:#bdbdbd;--card:#1b1b1b;--card2:#262626;--line:#2a2a2a;--accent:#ffcc00;--sidebar:#141414;--sideW:300px}
  *{box-sizing:border-box} html,body{height:100%}
  body{margin:0;background:var(--bg);color:var(--text);font-family:Arial,Helvetica,sans-serif}
  .wrap{display:grid;grid-template-columns:var(--sideW) 1fr;grid-template-rows:64px 1fr;grid-template-areas:"head head" "side main";height:100%}
  header{grid-area:head;display:flex;align-items:center;justify-content:center;background:#101010;border-bottom:1px solid #1f1f1f;position:sticky;top:0;z-index:5}
  h1{margin:0;color:var(--accent)}
  .topright{position:absolute;right:12px;top:10px;display:flex;gap:8px;align-items:center}
  .btn{background:var(--card);border:1px solid var(--line);color:var(--text);padding:8px 10px;border-radius:8px;cursor:pointer}
  .btn:hover{background:var(--card2)}
  .search{background:#111;border:1px solid var(--line);color:#ddd;border-radius:8px;padding:8px 10px;min-width:260px;outline:none}
  aside{grid-area:side;background:var(--sidebar);border-right:1px solid #1f1f1f;padding:12px;overflow:auto;position:sticky;top:64px;height:calc(100vh - 64px)}
  .cat{display:block;padding:10px 12px;margin-bottom:8px;border-radius:10px;background:#171717;border:1px solid #242424;text-decoration:none;color:var(--text);cursor:pointer}
  .cat.active{outline:2px solid var(--accent)}
  .small{display:block;color:var(--muted);margin-top:2px;font-size:.9em}
  main{grid-area:main;overflow:auto;padding:16px;transform-origin:0 0}
  .grid{display:grid;grid-template-columns:repeat(12,minmax(0,1fr));gap:14px;min-width:980px}
  .card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:14px;display:flex;gap:12px;align-items:flex-start;transition:.15s;cursor:pointer}
  .card:hover{background:var(--card2);transform:translateY(-1px)}
  .icon{width:36px;height:36px;flex:0 0 36px;border-radius:8px;background:#101010;display:flex;align-items:center;justify-content:center}
  .num{color:var(--accent);font-weight:700;margin-bottom:6px}
  .title{font-weight:700}
  .sub{color:var(--muted);margin-top:6px;font-size:.95em}
  .hidden{display:none}
  .col-1{grid-column:span 1}.col-2{grid-column:span 2}.col-3{grid-column:span 3}.col-4{grid-column:span 4}.col-5{grid-column:span 5}.col-6{grid-column:span 6}
  .col-7{grid-column:span 7}.col-8{grid-column:span 8}.col-9{grid-column:span 9}.col-10{grid-column:span 10}.col-11{grid-column:span 11}.col-12{grid-column:span 12}
  .infobar{position:sticky;bottom:0;background:rgba(20,20,20,.9);border-top:1px solid #1f1f1f;padding:8px 12px;font-size:.9em;color:#ccc}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Digitální Tržiště</h1>
      <div class="topright">
        <input id="q" class="search" placeholder="Hledat (název, číslo, tagy)…">
        <button id="zminus" class="btn">−</button>
        <button id="zplus"  class="btn">+</button>
        <button id="zreset" class="btn">100%</button>
      </div>
    </header>
    <aside id="sidebar"></aside>
    <main id="main">
      <div id="grid" class="grid"></div>
      <div id="info" class="infobar"></div>
    </main>
  </div>

  <!-- ====== TADY OVLÁDÁŠ VŠECHNO: PŘEPISUJ JEN TENHLE JSON BLOK ====== -->
  <script id="DATA" type="application/json">
  {
    "app": {
      "title": "Digitální Tržiště",
      "public": true
    },
    "theme": {
      "bg": "#0f0f0f",
      "text": "#eeeeee",
      "muted": "#bdbdbd",
      "card": "#1b1b1b",
      "card_hover": "#262626",
      "line": "#2a2a2a",
      "accent": "#ffcc00",
      "sidebar": "#141414"
    },
    "ui": {
      "layout": {
        "grid_columns": 12,
        "fixed": true
      },
      "zoom": {
        "min": 0.6,
        "max": 2.0,
        "step": 0.1,
        "default": 1.0
      },
      "icons": {
        "base": "icons/",
        "fallback": "default.svg"
      },
      "open_behavior": "iframe"
    },

    "categories": [
      {
        "key": "Úvod",
        "title": "Úvod",
        "description": "Rychlý přehled, co to je a jak to používat.",
        "items": [
          {
            "id": "uvod-001",
            "order": 1,
            "number": "Ú-01",
            "title": "Co je Digitální Tržiště",
            "subtitle": "Krátké vysvětlení pro nově příchozí",
            "icon": "book-open.svg",
            "url": "",
            "open": "blank",
            "layout": { "w": 4 },
            "tags": ["intro","návod"],
            "related": []
          },
          {
            "id": "uvod-002",
            "order": 2,
            "number": "Ú-02",
            "title": "Jak přidávat položky",
            "subtitle": "Přidáš řádek do JSONu, nic víc",
            "icon": "plus.svg",
            "url": "",
            "open": "blank",
            "layout": { "w": 4 },
            "tags": ["workflow"],
            "related": []
          },
          {
            "id": "uvod-003",
            "order": 3,
            "number": "Ú-03",
            "title": "Kontakt přes bota",
            "subtitle": "Napiš jméno a e-mail, otevře se chat",
            "icon": "chat.svg",
            "url": "#bot",
            "open": "inline",
            "layout": { "w": 4 },
            "tags": ["chat","bot"],
            "related": []
          }
        ]
      },
      {
        "key": "Aplikace",
        "title": "Aplikace",
        "description": "Katalog nástrojů a aplikací.",
        "items": [
          {
            "id": "app-001",
            "order": 1,
            "number": "A-01",
            "title": "Reality Scan – Vyhledávač",
            "subtitle": "AI analýza inzerátů, scoring, export",
            "icon": "scan.svg",
            "url": "https://example.com/reality-scan",
            "open": "iframe",
            "layout": { "w": 4 },
            "tags": ["AI","realitní"],
            "related": [
              { "label": "Filtry", "icon": "filter.svg", "action": "#filters" },
              { "label": "Export", "icon": "export.svg", "action": "#export" }
            ]
          },
          {
            "id": "app-002",
            "order": 2,
            "number": "A-02",
            "title": "StarterPack Family – Konfigurátor",
            "subtitle": "Volba modelu, výbavy, export nabídky",
            "icon": "house.svg",
            "url": "https://example.com/spf-config",
            "open": "iframe",
            "layout": { "w": 4 },
            "tags": ["domy","konfigurátor"],
            "related": [
              { "label": "Modely", "icon": "home.svg", "action": "#models" },
              { "label": "Cenovka", "icon": "price-tag.svg", "action": "#pricing" }
            ]
          },
          {
            "id": "app-003",
            "order": 3,
            "number": "A-03",
            "title": "CzechAI – Automatizace pro firmy",
            "subtitle": "Chatboty, integrace, AI skripty",
            "icon": "czechai.svg",
            "url": "https://example.com/czechai",
            "open": "iframe",
            "layout": { "w": 4 },
            "tags": ["AI","automatizace"],
            "related": [
              { "label": "Chatboty", "icon": "chat.svg", "action": "#chatbots" },
              { "label": "Integrace", "icon": "plug.svg", "action": "#integrations" }
            ]
          }
        ]
      }
    ],

    "icons_gallery": [
      { "name": "book-open", "file": "book-open.svg", "tags": ["úvod","návod"] },
      { "name": "plus", "file": "plus.svg", "tags": ["přidat","nové"] },
      { "name": "chat", "file": "chat.svg", "tags": ["chat","komunikace"] },
      { "name": "scan", "file": "scan.svg", "tags": ["AI","analýza"] },
      { "name": "house", "file": "house.svg", "tags": ["dům","konfigurátor"] },
      { "name": "czechai", "file": "czechai.svg", "tags": ["AI","firma"] },
      { "name": "filter", "file": "filter.svg", "tags": ["filtr"] },
      { "name": "export", "file": "export.svg", "tags": ["export"] },
      { "name": "home", "file": "home.svg", "tags": ["model"] },
      { "name": "price-tag", "file": "price-tag.svg", "tags": ["cena"] },
      { "name": "plug", "file": "plug.svg", "tags": ["integrace"] },
      { "name": "default", "file": "default.svg", "tags": [] }
    ]
  }
  </script>
  <!-- ====== KONEC JSONU – OVLÁDÁŠ JEN TOHLE ====== -->

  <script>
    // INLINE ikony – žádné 404 soubory
    const ICONS = {
      'book-open.svg':'<svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="#ffcc00" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 4h9a4 4 0 0 1 4 4v12H6a4 4 0 0 0-4-4V4z"/><path d="M22 4h-9a4 4 0 0 0-4 4v12h9a4 4 0 0 1 4-4V4z"/></svg>',
      'plus.svg':'<svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="#ffcc00" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14M5 12h14"/></svg>',
      'chat.svg':'<svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="#ffcc00" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a4 4 0 0 1-4 4H8l-5 4V7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4z"/></svg>',
      'scan.svg':'<svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="#ffcc00" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M8 8h8v8H8z"/></svg>',
      'house.svg':'<svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="#ffcc00" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 11L12 3l9 8"/><path d="M5 10v10h14V10"/></svg>',
      'czechai.svg':'<svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="#ffcc00" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"/><path d="M8 12h8M12 8v8"/></svg>',
      'filter.svg':'<svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="#ffcc00" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 5h18"/><path d="M8 12h8"/><path d="M10 19h4"/></svg>',
      'export.svg':'<svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="#ffcc00" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14"/><path d="M5 12h14"/></svg>',
      'home.svg':'<svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="#ffcc00" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 11L12 3l9 8"/></svg>',
      'price-tag.svg':'<svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="#ffcc00" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 12l-8 8-8-8 8-8 8 8z"/></svg>',
      'plug.svg':'<svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="#ffcc00" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 7v6M15 7v6"/><path d="M7 13h10"/><path d="M12 19v2"/></svg>',
      'default.svg':'<svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="#ffcc00" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"/></svg>'
    };

    // util
    function parseData() {
      const raw = document.getElementById('DATA').textContent;
      try { return JSON.parse(raw); } catch(e) {
        alert('Chyba v JSONu: ' + e.message);
        return { categories: [] };
      }
    }
    function iconEl(name){
      const d=document.createElement('div'); d.className='icon';
      d.innerHTML = ICONS[name] || ICONS['default.svg']; return d;
    }
    function cardEl(item, openDefault){
      const span=item?.layout?.w ? Math.max(1,Math.min(12,item.layout.w)) : 3;
      const el=document.createElement('div'); el.className=`card col-${span}`;
      const open=(item.open||openDefault||'blank').toLowerCase();
      if(item.url){
        el.onclick=()=>{
          if(open==='self') window.location.href=item.url;
          else window.open(item.url,'_blank','noopener');
        };
      }
      const r=document.createElement('div');
      r.innerHTML=`<div class="num">${item.number||''}</div><div class="title">${item.title||''}</div><div class="sub">${item.subtitle||''}</div>`;
      el.appendChild(iconEl(item.icon)); el.appendChild(r);
      return el;
    }

    // zoom
    let Z=1.0;
    function setZoom(v){ Z=Math.max(0.6,Math.min(2.0,v)); document.getElementById('main').style.transform=`scale(${Z})`; document.getElementById('zreset').textContent=Math.round(Z*100)+'%'; }
    document.getElementById('zplus').onclick=()=>setZoom(Z+0.1);
    document.getElementById('zminus').onclick=()=>setZoom(Z-0.1);
    document.getElementById('zreset').onclick=()=>setZoom(1.0);

    // render
    const sidebar=document.getElementById('sidebar');
    const grid=document.getElementById('grid');
    const info=document.getElementById('info');
    const q=document.getElementById('q');

    function renderSidebar(cats){
      sidebar.innerHTML='';
      cats.forEach((c,i)=>{
        const a=document.createElement('a'); a.href='#'; a.className='cat'+(i===0?' active':'');
        a.innerHTML=`${c.title||c.key}<span class="small">${(c.items||[]).length} položek</span>`;
        a.onclick=(e)=>{e.preventDefault();
          sidebar.querySelectorAll('.cat').forEach(x=>x.classList.remove('active'));
          a.classList.add('active'); renderCategory(c);
        };
        sidebar.appendChild(a);
      });
    }
    function renderCategory(cat, openDefault){
      grid.innerHTML='';
      const query=(q.value||'').trim().toLowerCase();
      let items=(cat.items||[]).slice().sort((a,b)=>(a.order||0)-(b.order||0));
      if(query){
        items=items.filter(it=>{
          const hay=[it.title,it.subtitle,it.number,it.id,Array.isArray(it.tags)?it.tags.join(' '):''].join(' ').toLowerCase();
          return hay.includes(query);
        });
      }
      items.forEach(it=>grid.appendChild(cardEl(it, openDefault)));
      info.textContent=`Zobrazeno: ${items.length} / ${(cat.items||[]).length}  |  Kategorie: ${cat.title||cat.key}`;
      document.getElementById('main').scrollTo({top:0,behavior:'instant'});
    }
    q.addEventListener('input',()=>{
      const i=[...sidebar.querySelectorAll('.cat')].findIndex(x=>x.classList.contains('active'));
      if(window.__CATS && window.__CATS[i]) renderCategory(window.__CATS[i], window.__OPEN);
    });

    // init
    (function init(){
      const data=parseData();
      document.title = data?.app?.title || 'Digitální Tržiště';
      window.__OPEN = (data?.ui?.open_behavior || 'blank').toLowerCase();
      const cats = data?.categories || [];
      window.__CATS = cats;
      renderSidebar(cats);
      if(cats[0]) renderCategory(cats[0], window.__OPEN);
      setZoom( (data?.ui?.zoom?.default) || 1.0 );
    })();
  </script>
</body>
</html>
