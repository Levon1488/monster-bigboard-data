<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Digitální Tržiště</title>
<base href="/monster-bigboard-data/">
<style>
  :root{--bg:#0f0f0f;--text:#eee;--muted:#bdbdbd;--card:#1b1b1b;--card2:#262626;--line:#2a2a2a;--accent:#ffcc00;--sidebar:#141414;--sideW:300px}
  *{box-sizing:border-box} html,body{height:100%}
  body{margin:0;background:var(--bg);color:var(--text);font-family:Arial,Helvetica,sans-serif}
  .wrap{display:grid;grid-template-columns:var(--sideW) 1fr;grid-template-rows:64px 1fr;grid-template-areas:"head head" "side main";height:100%}
  header{grid-area:head;display:flex;align-items:center;justify-content:center;background:#101010;border-bottom:1px solid #1f1f1f;position:sticky;top:0;z-index:5}
  h1{margin:0;color:var(--accent)}
  .topright{position:absolute;right:12px;top:10px;display:flex;gap:8px;align-items:center}
  .btn{background:var(--card);border:1px solid var(--line);color:var(--text);padding:8px 10px;border-radius:8px;cursor:pointer}
  .btn:hover{background:var(--card2)}
  .search{background:#111;border:1px solid var(--line);color:#ddd;border-radius:8px;padding:8px 10px;min-width:260px;outline:none}
  aside{grid-area:side;background:var(--sidebar);border-right:1px solid #1f1f1f;padding:12px;overflow:auto;position:sticky;top:64px;height:calc(100vh - 64px)}
  .cat{display:block;padding:10px 12px;margin-bottom:8px;border-radius:10px;background:#171717;border:1px solid #242424;text-decoration:none;color:var(--text);cursor:pointer}
  .cat.active{outline:2px solid var(--accent)}
  .small{display:block;color:var(--muted);margin-top:2px;font-size:.9em}
  main{grid-area:main;overflow:auto;padding:16px;transform-origin:0 0}
  .grid{display:grid;grid-template-columns:repeat(12,minmax(0,1fr));gap:14px;min-width:980px}
  .card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:14px;display:flex;gap:12px;align-items:flex-start;transition:.15s;cursor:pointer}
  .card:hover{background:var(--card2);transform:translateY(-1px)}
  .icon{width:36px;height:36px;flex:0 0 36px;border-radius:8px;background:#101010;display:flex;align-items:center;justify-content:center}
  .num{color:var(--accent);font-weight:700;margin-bottom:6px}
  .title{font-weight:700}
  .sub{color:var(--muted);margin-top:6px;font-size:.95em}
  .hidden{display:none}
  .col-1{grid-column:span 1}.col-2{grid-column:span 2}.col-3{grid-column:span 3}.col-4{grid-column:span 4}.col-5{grid-column:span 5}.col-6{grid-column:span 6}
  .col-7{grid-column:span 7}.col-8{grid-column:span 8}.col-9{grid-column:span 9}.col-10{grid-column:span 10}.col-11{grid-column:span 11}.col-12{grid-column:span 12}
  .infobar{position:sticky;bottom:0;background:rgba(20,20,20,.9);border-top:1px solid #1f1f1f;padding:8px 12px;font-size:.9em;color:#ccc}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Digitální Tržiště</h1>
      <div class="topright">
        <input id="q" class="search" placeholder="Hledat (název, číslo, tagy)…">
        <button id="zminus" class="btn">−</button>
        <button id="zplus"  class="btn">+</button>
        <button id="zreset" class="btn">100%</button>
      </div>
    </header>
    <aside id="sidebar"></aside>
    <main id="main">
      <div id="grid" class="grid"></div>
      <div id="info" class="infobar"></div>
    </main>
  </div>

  <!-- fallback demo -->
  <script id="DATA" type="application/json">
  { "categories": [ { "key":"Úvod","title":"Úvod","items":[
      { "number":"Ú-01","title":"Co je Digitální Tržiště","subtitle":"Krátké vysvětlení pro nově příchozí","icon":"book-open.svg","layout":{"w":4} },
      { "number":"Ú-02","title":"Jak přidávat položky","subtitle":"Přidáš řádek do JSONu, nic víc","icon":"plus.svg","layout":{"w":4} },
      { "number":"Ú-03","title":"Kontakt přes bota","subtitle":"Otevře se formulář","icon":"chat.svg","layout":{"w":4} }
  ] } ] }
  </script>

  <script>
    // ---------- načtení dat: market.json -> final_catalog.json -> fallback ----------
    async function loadData(){
      const urls = [']()



